<!-- views/partners/dashboard.ejs -->
<%- include('../partials/header') %>

<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-1">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
          <% if (vendor) { %>
            <li class="breadcrumb-item"><a href="/vendors/<%= vendor.id %>"><%= vendor.name %></a></li>
          <% } %>
          <li class="breadcrumb-item active" aria-current="page">Partner Portal</li>
        </ol>
      </nav>
      <h1>
        <i class="bi bi-star-fill text-warning"></i> 
        <% if (vendor) { %>
          <%= vendor.name %> Partner Portal
        <% } else { %>
          Featured Partner Portal
        <% } %>
      </h1>
    </div>
    <div>
      <% if (vendorId) { %>
        <a href="/vendors/<%= vendorId %>" class="btn btn-outline-secondary">
          <i class="bi bi-arrow-left"></i> Back to Vendor
        </a>
      <% } else { %>
        <a href="/vendors" class="btn btn-outline-secondary">
          <i class="bi bi-arrow-left"></i> All Vendors
        </a>
      <% } %>
    </div>
  </div>

  <% if (vendor && vendor.isPartner) { %>
    <div class="alert alert-success mb-4">
      <h5 class="alert-heading"><i class="bi bi-check-circle-fill"></i> Active Featured Partner</h5>
      <p class="mb-0">This vendor is currently featured in the Loot's app and receives premium placement in search results.</p>
      <% if (vendor.partnerStatusLastChangedAt) { %>
        <hr>
        <p class="small mb-0">Featured since: <%= new Date(vendor.partnerStatusLastChangedAt).toLocaleDateString() %></p>
      <% } %>
    </div>
  <% } else if (vendor && !vendor.isPartner) { %>
    <div class="alert alert-warning mb-4">
      <h5 class="alert-heading"><i class="bi bi-exclamation-triangle-fill"></i> Not Currently Featured</h5>
      <p class="mb-0">This vendor is not currently featured. To make them a featured partner, go to the <a href="/vendors/<%= vendor.id %>/edit">vendor edit page</a> and check the "Featured Partner" option.</p>
    </div>
  <% } else if (!vendor && vendorId) { %>
    <div class="alert alert-danger mb-4">
      <h5 class="alert-heading"><i class="bi bi-x-circle-fill"></i> Vendor Not Found</h5>
      <p class="mb-0">The requested vendor could not be found. Please check the vendor ID and try again.</p>
    </div>
  <% } %>

  <div class="row g-4">
    <!-- Partner Portal Info -->
    <div class="col-lg-8">
      <div class="card mb-4">
        <div class="card-header bg-warning text-dark">
          <h5 class="card-title mb-0">Partner Benefits</h5>
        </div>
        <div class="card-body">
          <p class="lead">As a featured partner, this vendor enjoys premium benefits in the Loot's Ganja Guide app:</p>
          <ul class="list-group list-group-flush mb-4">
            <li class="list-group-item">
              <i class="bi bi-star-fill text-warning me-2"></i>
              <strong>Premium Placement</strong> in search results and listings
            </li>
            <li class="list-group-item">
              <i class="bi bi-megaphone-fill text-warning me-2"></i>
              <strong>Enhanced Promotions</strong> for deals and specials
            </li>
            <li class="list-group-item">
              <i class="bi bi-graph-up-arrow text-warning me-2"></i>
              <strong>Advanced Analytics</strong> on customer interactions
            </li>
            <li class="list-group-item">
              <i class="bi bi-bell-fill text-warning me-2"></i>
              <strong>Push Notification</strong> capability for promotions
            </li>
            <li class="list-group-item">
              <i class="bi bi-trophy-fill text-warning me-2"></i>
              <strong>Featured Badge</strong> throughout the app
            </li>
          </ul>
          
          <div class="alert alert-warning">
            <h5><i class="bi bi-exclamation-triangle-fill"></i> Coming Soon</h5>
            <p class="mb-0">The Partner Portal is under development. Additional features and detailed analytics will be available in future updates.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Sidebar -->
    <div class="col-lg-4">
      <div class="card mb-4">
        <div class="card-header">
          <h5 class="card-title mb-0">Quick Actions</h5>
        </div>
        <div class="card-body">
          <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-megaphone"></i> Create Promotion
              </div>
              <span class="badge bg-primary rounded-pill">Coming Soon</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-graph-up"></i> View Analytics
              </div>
              <span class="badge bg-primary rounded-pill">Coming Soon</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-bell"></i> Schedule Notification
              </div>
              <span class="badge bg-primary rounded-pill">Coming Soon</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-gear"></i> Partnership Settings
              </div>
              <span class="badge bg-primary rounded-pill">Coming Soon</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %> 